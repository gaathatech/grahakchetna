# GrahakChetna Video Layout Guide

## Overview
This document explains the visual layout and format of videos generated by GrahakChetna AI News Studio. We create two types of videos: **YouTube Shorts** and **Long Videos**.

---

## Current Video Format (1080×1920)

Our current generation uses a **vertical format** of **1080 pixels wide × 1920 pixels tall**. This is perfect for mobile viewing and social media platforms like Instagram Reels and YouTube Shorts.

### What Each Part Does:

#### 1. **Logo** (Top Center)
- **Position**: Center top
- **Size**: 100px height
- **Color**: Full color (company branding)
- **Purpose**: Brand identification
- **Visible**: Entire video duration

#### 2. **Background Video** (Full Screen)
- **Size**: 1080×1920 (full video dimensions)
- **Content**: Animated/looped news footage
- **Opacity**: 40% darkened overlay on top
- **Purpose**: Visual context and engagement

#### 3. **Anchor Image** (Left Side)
- **Position**: Left side, vertically centered
- **Size**: 750px height
- **Content**: AI news anchor (photo/image)
- **Purpose**: Face of the news presenter

#### 4. **Red Headline Bar** (Top Section)
- **Position**: Below logo, upper third
- **Size**: Full width (1080px) × 120px height
- **Color**: Bright red (#DC143C / Crimson)
- **Border**: Dark red bottom border (3px)
- **Content**: Scrolling headline text
- **Animation**: Text scrolls left-to-right continuously
- **Font Size**: 50px, bold, white
- **Purpose**: Grab attention with main story

#### 5. **Description Text** (Right Side, Center)
- **Position**: Right side opposite anchor, middle area
- **Size**: 600px width × variable height
- **Color**: White text with black shadow
- **Font Size**: 40px
- **Font Weight**: Regular
- **Scrolling**: If text exceeds box height, content scrolls vertically
- **Max Height**: Fills space between headline bar and breaking news bar
- **Purpose**: Detailed news story content
- **Text Wrapping**: Automatic word wrapping at 600px

#### 6. **Breaking News Bar** (Bottom)
- **Position**: Lower third to bottom
- **Size**: Full width (1080px) × 130px height
- **Color**: Bright red (#DC143C)
- **Border**: Dark red top border (3px)
- **Content**: "BREAKING NEWS" label + AI Generated label
- **Font Size**: 55px bold (main), 28px regular (AI label)
- **Purpose**: Emphasize urgency and channel branding

#### 7. **Video Duration**
- **Main Content**: Length of audio narration
- **Ending Screen**: +3 seconds (black background with "Presented by GrahakChetna")
- **Total**: Audio length + 3 seconds

#### 8. **Audio**
- **Voice**: gTTS (Google Text-to-Speech) - clear, natural voice
- **Pacing**: Fast (-10% speed) for energetic delivery
- **Background Music**: 8% volume, looped
- **Final Mix**: Music + Voice in stereo

---

## YouTube Shorts Format

### Specifications:
- **Resolution**: 1080 × 1920 (9:16 aspect ratio)
- **Duration**: 15-60 seconds recommended
- **Max Duration**: 60 seconds
- **Frame Rate**: 24 fps
- **Video Codec**: H.264 (libx264)
- **Audio Codec**: AAC
- **Bitrate**: Optimized for mobile

### Layout for Shorts:
Same as above (1080×1920), but optimized for quick viewing:
- **Headline Bar**: Scrolls faster for impact
- **Description**: Concise, 2-3 sentences max
- **Pacing**: Faster audio delivery
- **Total Runtime**: Stays within 15-60 seconds

### Usage:
Use `video_length=short` parameter when generating to get ~15 second videos automatically trimmed.

---

## Long Video Format

### Specifications:
- **Resolution**: 1080 × 1920 (vertical) OR 1920 × 1080 (optional horizontal)
- **Duration**: 60-600+ seconds (can be very long)
- **Frame Rate**: 24 fps
- **Video Codec**: H.264 (libx264)
- **Audio Codec**: AAC

### Layout for Long Videos:
Same vertical layout as Shorts, but with:
- **Headline Bar**: Scrolls at normal speed
- **Description**: Can be longer (5-10+ sentences)
- **Multiple Stories**: Can showcase 2-3 news items
- **Total Runtime**: Up to 10 minutes or longer

### Usage:
Use `video_length=long` parameter when generating. Full audio narration is used without trimming.

### Alternative (Future): Horizontal Format
Could optionally use 1920×1080 for:
- YouTube regular videos (non-Shorts)
- TV broadcast simulation
- Wide-screen displays
- Different layout arrangement

---

## Color Scheme

| Element | Color | Hex Code | Purpose |
|---------|-------|----------|---------|
| Headline Bar | Crimson Red | #DC143C | Attention-grabbing |
| Bar Border | Dark Red | #8B0000 | Depth/shadow |
| Text (Main) | White | #FFFFFF | Readability |
| Text (Shadow) | Black | #000000 | Text contrast |
| Overlay | Black 40% opacity | #000000 (40%) | Dark background for text readability |
| AI Label | White | #FFFFFF | Clear labeling |

---

## Text Elements

### Headline (Scrolling Top Bar)
- **Font**: Bold, sans-serif
- **Size**: 50px
- **Color**: White with shadow
- **Animation**: Continuous left scroll
- **Speed**: Proportional to video duration
- **Purpose**: Main story title

### Description (Center-Right)
- **Font**: Regular, sans-serif
- **Size**: 40px
- **Color**: White with shadow
- **Wrapping**: Automatic at 600px width
- **Purpose**: Full story details

### Labels
- **"BREAKING NEWS"**: 55px bold white
- **"AI Generated Anchor"**: 28px regular white
- **"Presented by GrahakChetna"**: 75px bold white (ending screen)

---

## Font Support

### English
- DejaVuSans, Noto Sans, Liberation Sans, FreeSans

### Hindi & Gujarati
- Noto Sans Devanagari, Lohit Devanagari, Noto Sans Gujarati, Lohit Gujarati, Mangal

**Note**: System automatically picks best available font for language.

---

## Audio (TTS) Setup

### Current Implementation:
- **Provider**: gTTS (Google Text-to-Speech) only
- **Fallback**: pyttsx3 (offline, if gTTS fails)
- **No Cloud APIs**: ElevenLabs and Edge TTS removed

### Voice Options:
- **Male/Female**: Supported by language
- **Speed**: "Exciting" pacing (-10% faster)
- **Language Support**: English, Hindi, Gujarati
- **Caching**: Automatic caching to avoid re-generation

---

## File Output

### Saved As:
- **Location**: `/videos/` folder
- **Filename**: `video_YYYYMMDD_HHMMSS_###.mp4`
- **Format**: MP4 (H.264 video + AAC audio)
- **File Size**: ~0.1-2 MB per video (depends on duration)

### Manifest:
- **Location**: `/videos/manifest.json`
- **Content**: List of all generated videos with metadata
- **Auto-Updated**: After each video generation

---

## Generation Options

### Query Parameters / Form Fields:

```
POST /generate

Fields:
  headline       - Main story title (required)
  description    - Story details (required)
  language       - "english", "hindi", "gujarati"
  female_voice   - "true" or "false" (voice gender)
  voice_provider - "auto", "gtts" (others removed)
  voice_model    - "auto" or language code
  video_length   - "short" (15s), "long" (120s), "full" (no limit)
```

### Examples:

**Short Video (15s):**
```
headline=Breaking News
description=Details here
video_length=short  # Auto-trims to 15 seconds
```

**Long Video (120s):**
```
headline=Breaking News
description=Detailed story with multiple updates
video_length=long  # Auto-trims to 120 seconds
```

**Full Duration:**
```
headline=Breaking News
description=Full duration news report
video_length=full  # No trimming
```

---

## Sharing Options

After generation, videos can be posted to:
1. **WordPress**: Blog/website publishing
2. **Facebook**: Page reels (via Graph API)
3. **Instagram**: Page->Instagram Business (via Graph API)
4. **YouTube**: (Stub - ready for YouTube Data API integration)

---

## Technical Notes

### Video Codec Details:
- **Container**: MP4 (MPEG-4)
- **Video Codec**: H.264 (libx264)
- **Audio Codec**: AAC
- **Frame Rate**: 24 fps (cinematic quality)
- **Resolution**: 1080×1920 or 1920×1080

### MoviePy Composition:
- Layers built bottom-to-top:
  1. Background video (darkened)
  2. Anchor image (left)
  3. Logo (top center)
  4. Red headline bar + scrolling text
  5. Description text
  6. Red breaking news bar
  7. Audio mix (music 8% + voice)

### Performance:
- **Generation Time**: 1-3 minutes per video (depending on duration)
- **CPU**: Single-threaded MoviePy
- **Dependencies**: MoviePy, Pillow, gTTS, pyttsx3 (optional)

---

## Future Enhancements

1. **Horizontal Format**: Support 16:9 aspect ratio videos
2. **Custom Templates**: Allow different layout designs
3. **YouTube Integration**: Direct upload to YouTube channel
4. **Analytics**: Track video performance and shares
5. **Multi-Language Subtitles**: Add text overlays
6. **Music Selection**: Choose from music library
7. **Watermark Options**: Customizable branding overlay

---

## Troubleshooting

### Video Generation Issues:
- **gTTS Fails**: Check internet connection, pyttsx3 will fallback
- **Font Not Found**: System scans for fonts, may default to basic font
- **Aspect Ratio Wrong**: Verify WIDTH=1080, HEIGHT=1920 in `video_service.py`
- **Audio Not Synced**: Ensure audio duration matches video trim settings

### Sharing Issues:
- **Facebook/Instagram**: Check PAGE_ID and PAGE_ACCESS_TOKEN in .env
- **Instagram**: Verify Page is connected to Instagram Business account
- **WordPress**: Check WORDPRESS_URL, username, and app password

---

**Last Updated**: February 2026  
**Created for**: GrahakChetna AI News Studio  
**Version**: 1.0
